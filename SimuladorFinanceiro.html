<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulador Financeiro</title>
</head>

<body>
    <h1>Simulador Financeiro Batatech</h1>
    <h3><b> Faça sua simulação aqui, e verifique o quanto você pode melhorar sua produtividade! </b></h3>
    <div> <!-- contextualizaçõa e justificativa -->
        <i>Esse simulador financeiro tem como objetivo calcular a oportunidade que existe ao usar a solução IoT de
            monitoramento de umidade e temperatura do solo.<br>
            Sua produtividade pode aumentar em até 20% e uma redução de uso de água em até 30% </i>
        <br>
        <br>
        <h3><b>Preencha os campos seguintes:</b></h3>
    </div>
    <div> <!-- input-->
        insira a área plantada (he)* <br><input id="ipthe"> <br><br>
        insira seu custo de produção por hectare (R$)* <br><input id="iptcusto"><br><br>
        insira o custo de água na plantação (R$/he)<i style="color: grey;">(caso não tenha, manter
            em branco)</i> <br><input id="iptcustoagua"> <br><br>
        insira sua produção por hectare (por saca de 50kg)* <br><input id="iptproducao"><br><br>
        insira o seu preço de venda por saca (R$)* <br><input id="iptvenda"><br><br>
    </div>
    <br>
    <button onclick="calcular()">Calcular</button>
    <br>
    <div id="divmsg"></div>


</body>
<script>

    function calcular() {
        //Pegar valores obtidos nos inputs
        var area_plantada = Number(ipthe.value)
        var custo = Number(iptcusto.value)
        var producaohectare = Number(iptproducao.value)
        var precovenda = Number(iptvenda.value)
        var custoagua = Number(iptcustoagua.value)

        //Cálculos financeiros sem uso da nossa tecnologia
        var custoTotal = area_plantada * custo;
        var producaoTotal = area_plantada * producaohectare;
        var receitaTotal = producaoTotal * precovenda;
        var lucroLiquido = receitaTotal - custoTotal;

        //Cálculos financeiros com uso da nossa tecnologia + redução de água
        var prodTec = producaohectare + (producaohectare * 0.2);
        var prodTotalTec = prodTec * area_plantada;
        var receitaTotalTec = prodTotalTec * precovenda;
        var lucroTec = receitaTotalTec - (custoTotal - custoagua * 0.7 * area_plantada);

        //Cálculo de diferença percentual de ganho;
        var DifLucro = lucroTec - lucroLiquido;
        var percAumento = ((lucroTec - lucroLiquido) / lucroLiquido) * 100


        //Mensagem a ser mostrada na DIV.

        divmsg.innerHTML =
            `<br><b>Sem os nossos serviços, esses foram os seus resultados:  </b>
        <br>Sua produtividade total é de <b style="color: red;">${producaoTotal}</b> sacas. 
        <br>Receita total: <b style="color: red;"> R$ ${receitaTotal.toFixed(2)} </b> 
        <br>Lucros obtido: <b style="color: red;">R$ ${lucroLiquido.toFixed(2)} </b> 

        <br><br><b>Com os nossos serviços, esses foram os seus resultados: </b>
        <br>Sua produtividade total foi de <b style="color: green;">${prodTotalTec} </b> sacas. 
        <br>Receita total: <b style="color: green;">R$ ${receitaTotalTec.toFixed(2)} </b> 
        <br>Lucros obtido: <b style="color: green;">R$ ${lucroTec.toFixed(2)} </b> 

        <br><br> <b style="color: green;">Ganho R$ ${DifLucro.toFixed(2)} (Acréscimo de ${percAumento.toFixed(2)} %).</b>
        `
    }
</script>

</html>